<html>
<head>
	<title>Аналитика - История зачисления промокода</title>
</head>
<body>
<pre> Точка входа: https://truegamers.pro/api/v1.1/reports/promohistory
      Пример GET-запроса: https://truegamers.pro/api/v1.1/reports/promohistory?filter={"id": 1}&sort={"field":"date","order":"ASC"}
      Метод: GET
      Авторизация: Обязательна
      Параметры:
        filter=строка         //JSON-объект с параметрами фильтрации
        Формат фильтра:
          {
            "id":[1,2] //ID промокода (может быть пустым, если нужны данные со всех филиалов)
            "date_start":"2021-01-20 00:00:00" //дата в указанном формате. Будут выведены данные после указанной даты (это поле можно не указывать)
            "date_end":"2021-01-21 00:00:00" //дата в указанном формате. Будут выведены данные до указанной даты (это поле можно не указывать, если не указана date_start)
          }
        sort=строка           //JSON-массив с параметрами сортировки (пример: sort={"field":"address","order":"DESC"})
Поля для сортировки:
  ID - ID филиала
  promo_id - ID промокода
  date - Дата активации
  user_id - ID пользователя, активировавшего промокод
  admin_id - ID админа, работавшего во время активации
  sum - Сумма, зачисленная пользователю

  Возможные ошибки:
    ERROR_EMPTY_FILTER - не указан фильтр

  В случае успеха скрипт отдает следующие данные:

{
    "result": "RESULT_SUCCESS",
    "payload": {
        "promo": {
            "id": "1",
            "promo_name": "test",
            "description": "Тестовый промокод",
            "bonus": "$100.00",
            "max_activations": "10",
            "create_date": "2021-02-15 16:43:00",
            "end_date": "2021-02-17 16:43:00",
            "used": "10",
            "status": "1",
            "total_sum": "$1,000.00",
            "code": "test",
            "branch_id": "1"
        },
        "items": [
            {
                "id": "25",
                "date": "2021-02-20 16:36:40+00:00",
                "user": {
                    "id": "22",
                    "usernane": ""
                }
            },
            {
                "id": "27",
                "date": "2021-02-24 10:49:30+00:00",
                "user": {
                    "id": "22",
                    "usernane": ""
                }
            },
            {
                "id": "28",
                "date": "2021-02-25 09:45:31+00:00",
                "user": {
                    "id": "22",
                    "usernane": ""
                }
            },
            {
                "id": "29",
                "date": "2021-03-02 18:45:00+03:00",
                "user": {
                    "id": "47",
                    "usernane": ""
                }
            },
            {
                "id": "30",
                "date": "2021-03-04 19:57:58+00:00",
                "user": {
                    "id": "86",
                    "usernane": ""
                }
            }
        ],
        "currencies_total": "",
        "total": 5,
        "count": 5
    }
}