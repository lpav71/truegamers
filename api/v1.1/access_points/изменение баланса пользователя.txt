<html>
  <head>
    <title>Изменение баланса клиента</title>
  </head>
  <body>
    <pre>
      Точка входа: http://188.246.224.156/api/v1.1/clients/{id}/payment //Вместо {id} надо подставить ID пользователя
      Метод: POST
      Авторизация: Обязательна
      Обязательные параметры:
        sum=число с плавающей точкой          //сумма, которую нужно списать / зачислить
        field=строка                          //с какого баланса списывать, реального или бонусного (field=balance|<s>bonus</s>)
        action=строка                         //что сделать: списать (decrement) или зачислить (increment)
      Возможные ошибки:
        ERROR_INVALID_USER_ID - не указан ID пользователя
        ERROR_USER_DOES_NOT_EXISTS - пользователь с указанным ID не существует
        ERROR_EMPTY_SUM - не указана сумма
        ERROR_INVALID_SUM - некорректная сумма
        ERROR_EMPTY_FIELD - не указано, откуда списывать / зачислять
        ERROR_INVALID_FIELD - некорректное значение поля field
        ERROR_EMPTY_ACTION - не указано действие
        ERROR_INVALID_ACTION - некорректное значение действия
        ERROR_BALANCE_NOT_ENOUGH - на балансе пользователя не хватает средств для списания
        ERROR_BONUS_BALANCE_NOT_ENOUGH - на бонусном балансе пользователя не хватает средств для списания

      В случае успеха скрипт отдает данные из профиля пользователя. Данные из профиля:

      {
        "result": "RESULT_SUCCESS",
        "payload": {
          "id": 6, - ID пользователя
          "username": "Cooldenis", - логин
          "email": "1c.fast@mail.ru", - email
          "phone": "+79048954616", - телефон
          "status": "1", - статус пользователя
          "is_superhost": false, - является ли суперхостом
          "name": "Денис", - имя
          "surname": "Зайцев", - фамилия
          "birthdate": "1981-04-17 00:00:00", - дата рождения
          "reg_date": "2020-11-24 11:37:50+00:00", - дата регистрации
          "last_visit": "2020-11-24 11:37:50+00:00", - последний визит
          "game_time_minutes": 0, - сколько наиграл минут
          "rang": { - ранг пользователя
            "id": 1, - ID ранга
            "name": "Junior", - название ранга
            "num": 1, - номер ранга
            "duration": 30, - сколько осталось минут до следующего ранга
            "progress": 50, - прогресс до следующего ранга
            "next_id": 4, - ID следующего ранга
            "next_num": 2, - номер следующего ранга
            "next_name": "Soldier", - название следующего ранга
            "next_duration": 90 - при каком значении game_time наступит следующий ранг
          },
          "balance": 0, - баланс пользователя
          "bonus_balance": 0, - бонусы пользователя
          "branches": [ - филиалы, доступные пользователю
            {
              "id": 3, - id филиала
              "name": "Краснодар" - название филиала
            }
          ]
        }
      }
    </pre>
  </body>
</html>
